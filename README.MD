# StackExchange Data Dump: DBA

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–º–ø–∞ —Å–∞–π—Ç–∞ DBA.StackExchange  
(Ubuntu 22.04 + PostgreSQL¬†17)
## 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤

```bash
sudo apt update
sudo apt install -y xmlstarlet postgresql-17-pg-bulkload
```

## 2. –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã
–ó–∞–¥–∞–π—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ë–î
```bash
PG_USER="dba_user"
PG_DB="stackexchange_dba"
```
–°–æ–∑–¥–∞–π—Ç–µ —Ä–æ–ª—å –∏ –ë–î
```bash
sudo -u postgres psql <<SQL
  CREATE ROLE $PG_USER WITH LOGIN PASSWORD 'your_password';
  CREATE DATABASE $PG_DB OWNER $PG_USER;
  \q
SQL
```
–°–æ–∑–¥–∞–π—Ç–µ —Å—Ö–µ–º—É
```bash
psql -U $PG_USER -d $PG_DB -f full_schema.sql
```
## 3. –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î
–°–Ω–∞—á–∞–ª–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∏–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```bash
sudo apt install -y python3 python3-pip python3-venv
python3 -m venv venv
source venv/bin/activate

pip install pandas
```
–¢–µ–ø–µ—Ä—å –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ
```bash
chmod +x import_all.sh
./import_all.sh
```
## 4. –ó–∞–ø—Ä–æ—Å—ã –∏ –ø–ª–∞–Ω—ã –∑–∞–ø—Ä–æ—Å–æ–≤, –ø–æ–¥—Ö–æ–¥—ã –∫ –∏—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏




–ò–¥–µ–∏

2. üî∂ –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã / –æ–±—ã—á–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã
–ò—Ö –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é –Ω–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ–ª—è, –Ω–∞–ø—Ä–∏–º–µ—Ä:

posts (owneruserid)

comments (postid)

votes (postid)

tags (tagname)

–≠—Ç–æ —É–ª—É—á—à–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤, –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ JOIN'–∞–º.